# Default values for guhatek-onegt

replicaCount: 1

image:
  repository: acrguhateklabs.azurecr.io/guhatek-onegt
  pullPolicy: Always
  tag: "latest"

imagePullSecrets: []
nameOverride: ""
fullnameOverride: "guhatek-onegt"


serviceAccount:
  create: true
  annotations:
    azure.workload.identity/client-id: "01cba5a8-ba73-4c55-bbb8-d7d6ae057ba7"
  name: "guhatek-onegt"
# Disable the credentials secret
googleCredentials:
  createSecret: false

podAnnotations: {}
podLabels:
  app: guhatek-onegt

podSecurityContext:
  fsGroup: 1000

securityContext:
  runAsNonRoot: true
  runAsUser: 1000
  allowPrivilegeEscalation: false
  capabilities:
    drop:
      - ALL
  readOnlyRootFilesystem: false

service:
  type: ClusterIP
  port: 8000
  targetPort: 8000

ingress:
  enabled: true
  className: "nginx"
  annotations:
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
    nginx.ingress.kubernetes.io/proxy-body-size: "10m"
    nginx.ingress.kubernetes.io/use-regex: "true"
    nginx.ingress.kubernetes.io/rewrite-target: /$1
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
  hosts:
    - host: onegt.guhatek.org
      paths:
        - path: /(.*)
          pathType: ImplementationSpecific
  tls:
    - secretName: onegt-guhatek-org-tls
      hosts:
        - onegt.guhatek.org

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 100m
    memory: 256Mi

livenessProbe:
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 15
  periodSeconds: 20
  timeoutSeconds: 5
  failureThreshold: 3

readinessProbe:
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 5
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 3

autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 5
  targetCPUUtilizationPercentage: 80
  targetMemoryUtilizationPercentage: 80

nodeSelector: {}

tolerations: []

affinity: {}

# Environment configuration
env:
  # Google Sheets Configuration
  SPREADSHEET_ID: "1W5AVWBOsW7u5x-7-LHOw2G7CSVZC-3azgCC_VwxIr5w"
  CRMS_SPREADSHEET_ID: "1i9t2t_bo_-ulzEgIZFDiOz-PoPJdmJSHi-pTzHvo83s"
  DRIVE_PEOPLES_FOLDER_ID: "0AJcECZ9tnsMeUk9PVA"
  DRIVE_TEMPLATES_FOLDER_ID: "1g4YjKRWhrnkjePRYY3ucD3d6GAhOWXgT"
  DRIVE_EXPENSES_FOLDER_ID: "1efuBDt8oed9v3wajFcocFpj2uKDSaNdx"
  ASSOCIATES_SHEET: "Associates"
  PROJECTS_SHEET: "Project Master"
  ALLOCATIONS_SHEET: "Project Allocation Tracker"
  INVOICES_SHEET: "Invoice"
  PAYROLL_SHEET: "Payroll"
  EXPENSES_SHEET: "Expenses"
  CURRENCY_SHEET: "Currency Rates"
  CUSTOMERS_SHEET: "Customers"
  TIMESHEETS_SHEET: "Timesheets"
  GOOGLE_CLOUD_PROJECT: "gukatek-internal"
  GOOGLE_APPLICATION_CREDENTIALS: "/app/config/google-credentials-config.json"
  LOG_LEVEL: "ERROR"

  # Application Settings
  HOST: "0.0.0.0"
  PORT: "8000"
  DEBUG: "false"
  CORS_ORIGINS: "*"

# Google credentials secret configuration
#googleCredentials:
  # If true, create secret from values
#  createSecret: true
  # Name of the secret (use existing if createSecret is false)
#  secretName: "google-credentials"
  # Base64 encoded credentials.json content
  # Generate with: cat credentials.json | base64
#  credentialsBase64: ""

# Volume mounts for credentials
volumes: []
volumeMounts: []

# ConfigMap for additional configuration
configMap:
  enabled: false
  data: {}
